----------------------------------------
-- File: 'shadowswordtactic.ai'
-- Edited by Cylarne_04 2011
-- Edited by Thudmeizer		@ 28.02.2016

class 'ShadowswordTactic' (GuardVehicleTactic)

Shadowsword = {}

function ShadowswordTactic:__init( squad_ai ) super( squad_ai )

	self:SetName("Shadowsword Tactic")
end

function ShadowswordTactic:InitAbilities()

	-- Init ability ID's
	if (Shadowsword.overdrive_id == nil) then
		Shadowsword.overdrive_id = cpu_manager.stats:GetAbilityID( "guard_volcano_cannon_overdrive" )
	end
end

function ShadowswordTactic:DoAbilities()

	-- Try to use volcano cannon overdrive
	Ability.DoAbilityPos(self.squad_ai, Shadowsword.overdrive_id, Ability.Filters.CloseEnemy, 6)
	Ability.DoAbilityPos(self.squad_ai, Shadowsword.overdrive_id, Ability.EntityFilters.CloseBaseEntityEnemy, 1)

	-- Call standard method
	GuardVehicleTactic.DoAbilities(self)
end

function ShadowswordTactic:Upgrade()
self.m_shadowsword = math.random(1, 3)
 if (self.m_shadowsword == 1) then
    self:DynamicAddon ("addon_shadowsword_quake", 100, 1, 50, 0, 0, 0, nil, nil, false)
elseif (self.m_shadowsword == 2) then 
     self:DynamicAddon ("addon_shadowsword_overdrive", 100, 1, 50, 0, 0, 0, nil, nil, false)
	 end 
end